repos:
  - repo: local
    hooks:
      - id: helm-docs
        name: Helm Docs (auto-regenerates README files)
        args: []
        description: >
          Uses 'helm-docs' to create documentation from the Helm chart's 'values.yaml' file,
          and inserts the result into a corresponding 'README.md' file.
          If this hook modifies files, stage the changes (git add) and commit again.
        entry: jnorwood/helm-docs:v1.11.0
        files: (README\.md\.gotmpl|(Chart|requirements|values)\.yaml)$
        language: docker_image
        require_serial: true

      - id: helm-lint
        name: Helm Lint
        description: >
          Lint Helm charts using the same logic as CI workflow.
          Skips charts listed in .github/helm-ci-values/skip-charts.txt.
          Uses CI-specific values files when available.
        entry: bash -c 'scripts/helm-lint-pre-commit.sh'
        language: system
        files: ^charts/.+\.(yaml|yml|tpl)$
        pass_filenames: false
        require_serial: true
