# Default values for remote-signer.

replicaCount: 1

image:
  repository: ghcr.io/obolnetwork/remote-signer
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  automount: false
  annotations: {}
  name: ""

podAnnotations: {}
podLabels: {}

podSecurityContext:
  fsGroup: 65532

securityContext:
  runAsNonRoot: true
  runAsUser: 65532
  readOnlyRootFilesystem: true
  capabilities:
    drop:
      - ALL

# Service configuration
service:
  type: ClusterIP
  port: 9000

# Application configuration
config:
  # Server listen address
  host: "0.0.0.0"
  # Server listen port (must match service.port)
  port: 9000
  # Log format: json | pretty
  logFormat: "json"
  # Log level: trace | debug | info | warn | error
  logLevel: "info"
  # Keystore directory inside the container
  keystoreDir: "/data/keystores"

# Keystore password configuration
keystorePassword:
  # Use an existing Kubernetes secret for the keystore password
  existingSecret: ""
  # Key within the existing secret that contains the password
  existingSecretKey: "password"
  # Create a new secret with this value (not recommended for production)
  value: ""

# Persistent volume for keystores
persistence:
  enabled: true
  # Use an existing PVC instead of creating one
  existingClaim: ""
  size: 100Mi
  accessModes:
    - ReadWriteOnce
  storageClassName: ""

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 500m
    memory: 256Mi

livenessProbe:
  httpGet:
    path: /healthz
    port: http
  initialDelaySeconds: 5
  periodSeconds: 30

readinessProbe:
  httpGet:
    path: /healthz
    port: http
  initialDelaySeconds: 3
  periodSeconds: 10

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 80

nodeSelector: {}
tolerations: []
affinity: {}

# Additional volumes
volumes: []
volumeMounts: []

# Prometheus ServiceMonitor
serviceMonitor:
  enabled: false
  path: /metrics
  interval: 30s
  labels: {}
